# 智能提词器 (Smart Teleprompter)

一款专为内容创作者设计的智能提词应用，支持macOS和iPadOS平台，提供专业的播放控制功能和智能语音识别自动调速。

## 🌟 主要功能

### 📝 文本管理
- **多格式支持**: 导入 .txt、.pdf、.rtf 格式文件
- **智能创建**: 直接输入文本内容，支持快速模板插入
- **时间估算**: 根据文本长度自动计算播放时间
- **实时统计**: 显示字符数、预计时长和阅读难度

### 🎮 播放控制
- **精确控制**: 播放/暂停功能，支持从任意位置开始
- **进度管理**: 实时显示已播放时间和总时间
- **速度调节**: 可调节滚动速度（0.1x - 3.0x）
- **重置功能**: 一键回到文本开头

### 🎨 显示设置
- **字体调节**: 12-72px 可调节字体大小
- **颜色自定义**: 支持文字和背景颜色个性化设置
- **透明度控制**: 0.1-1.0 透明度调节
- **镜像显示**: 水平翻转，适合镜头前使用

### 🔧 高级功能
- **全屏模式**: 沉浸式提词体验
- **隐身模式**: 控制面板在直播时可隐藏
- **智能跟读**: 语音识别自动调节播放速度
- **分界线**: 红色线条标记当前播放位置

### 💡 用户体验优化
- **触控优化**: iPad 友好的大按钮设计
- **键盘支持**: macOS 键盘快捷键支持
- **状态指示**: 实时显示当前工作状态
- **响应式布局**: 适配不同屏幕尺寸

## 🚀 快速开始

### 系统要求
- **macOS**: macOS 13.0 或更高版本
- **iPadOS**: iPadOS 16.0 或更高版本
- **权限**: 需要麦克风和语音识别权限（用于智能跟读功能）

### 安装步骤

1. **克隆项目**
   ```bash
   git clone <repository-url>
   cd smart-teleprompter
   ```

2. **使用 Xcode 打开**
   ```bash
   open TeleprompterApp.xcodeproj
   ```

3. **配置签名**
   - 在 Xcode 中选择你的开发团队
   - 确保 Bundle Identifier 是唯一的

4. **构建和运行**
   - 选择目标设备（Mac 或 iPad）
   - 点击运行按钮或按 Cmd+R

## 🎯 使用指南

### 基本使用流程

1. **导入或创建文本**
   - 点击"导入文本文件"选择文件
   - 或点击"新建文本"直接输入内容

2. **调整显示设置**
   - 根据阅读距离调整字体大小
   - 设置适合的文字和背景颜色
   - 调整透明度以适应不同环境

3. **开始播放**
   - 点击播放按钮开始自动滚动
   - 使用进度条跳转到指定位置
   - 通过停止按钮结束播放

4. **启用智能跟读**（可选）
   - 点击"开启语音跟读"
   - 允许麦克风权限
   - 系统会根据你的语速自动调节滚动速度

### 键盘快捷键 (macOS)

| 快捷键 | 功能 |
|--------|------|
| `空格键` | 播放/暂停 |
| `←` | 向前跳跃 5% |
| `→` | 向后跳跃 5% |
| `Esc` | 退出全屏 |
| `双击` | 切换全屏模式 |

### 触控手势 (iPad)

| 手势 | 功能 |
|------|------|
| `单击` | 播放/暂停 |
| `双击` | 切换全屏模式 |
| `长按` | 显示/隐藏控制面板（全屏模式） |
| `上下拖拽` | 手动滚动文本（暂停状态） |

## 🛠 技术特性

### 架构设计
- **MVVM 架构**: 使用 SwiftUI 和 ObservableObject
- **响应式设计**: 支持不同设备和屏幕方向
- **模块化组件**: 清晰的代码结构和组件分离

### 核心技术
- **SwiftUI**: 现代化的用户界面框架
- **Speech Framework**: 语音识别和语音处理
- **AVFoundation**: 音频会话管理
- **PDFKit**: PDF 文件内容提取
- **Combine**: 响应式编程

### 性能优化
- **延迟加载**: LazyVStack 提升大文本性能
- **动画优化**: 流畅的滚动和过渡动画
- **内存管理**: 有效的资源管理和释放

## 📁 项目结构

```
智能提词器/
├── TeleprompterApp.swift          # 应用入口
├── ContentView.swift              # macOS 主视图
├── TeleprompterModel.swift        # 数据模型
├── Views/
│   ├── ControlPanelView.swift     # macOS 控制面板
│   ├── TextDisplayView.swift      # macOS 文本显示
│   ├── TextInputView.swift        # macOS 文本输入
│   ├── SettingsView.swift         # 设置界面
│   ├── iPadContentView.swift      # iPad 主视图
│   ├── iPadControlPanelView.swift # iPad 控制面板
│   ├── iPadTextDisplayView.swift  # iPad 文本显示
│   └── iPadTextInputView.swift    # iPad 文本输入
├── Utils/
│   └── FileImporter.swift         # 文件导入处理
└── Info.plist                     # 应用配置
```

## 🔧 自定义设置

### 默认配置
应用提供以下默认设置，可在设置界面中修改：

- **字体大小**: 24px
- **滚动速度**: 1.0x
- **文字颜色**: 白色
- **背景颜色**: 黑色
- **透明度**: 100%

### 语音识别配置
智能跟读功能支持以下语言：
- 中文（简体）
- 中文（繁体）
- 英语
- 其他系统支持的语言

## 🐛 故障排除

### 常见问题

**Q: 语音识别不工作**
A: 请确保：
- 已授权麦克风权限
- 已授权语音识别权限
- 设备麦克风正常工作
- 网络连接稳定

**Q: 文件导入失败**
A: 请检查：
- 文件格式是否支持（.txt, .pdf, .rtf）
- 文件是否损坏
- 文件编码是否正确

**Q: 滚动不流畅**
A: 建议：
- 减少文本长度
- 关闭其他占用资源的应用
- 重启应用

## 🤝 贡献指南

欢迎提交 Issue 和 Pull Request！

### 开发环境
- Xcode 15.0+
- Swift 5.9+
- macOS 13.0+ / iPadOS 16.0+

### 提交规范
- 使用清晰的提交信息
- 遵循 Swift 代码规范
- 添加必要的注释和文档

## 📄 许可证

本项目采用 MIT 许可证。详情请参阅 [LICENSE](LICENSE) 文件。

## 📞 联系方式

如有问题或建议，请通过以下方式联系：

- GitHub Issues: [提交问题](https://github.com/your-repo/issues)
- Email: your-email@example.com

---

**享受创作，让提词更智能！** 🎬✨